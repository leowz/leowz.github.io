<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LintCode Medium Java Solution | Léo`s Blog</title>
  <meta name="author" content="Léo WENG">
  
  <meta name="description" content="Ugly Number II
Ugly number is a number that only have factors 2,3 and 5.Design an algorithm to find the nth ugly number. The first 10 ugly numbers are1, 2, 3, 4, 5, 6, 8, 9, 10, 12…

solution:
triple pointer: because the Ugly number array is an array that starts from 1 and by multiply 2,3,5 repeatedly to the numbers in the array.So the idea is to point at numbers in the array and check if the number multiplied by 2,3,5 is greater then the last number.
三个指针指向一个数列，如果指向目标乘2、3、5大于数列最后一个数，则从三者中选最小的加入数列

123456789101112131415161718192021public int nthUglyNumber(int n) &amp;#123;               List&amp;lt;Integer&amp;gt; uglys = new ArrayList&amp;lt;Integer&amp;gt;();        uglys.add(1);        int p2 = 0, p3 = 0, p5 = 0;        // p2, p3 &amp;amp; p5 share the same queue: uglys        for (int i = 1; i &amp;lt; n; i++) &amp;#123;            int lastNumber = uglys.get(i - 1);            while (uglys.get(p2) * 2 &amp;lt;= lastNumber) p2++;            while (uglys.get(p3) * 3 &amp;lt;= lastNumber) p3++;            while (uglys.get(p5) * 5 &amp;lt;= lastNumber) p5++;            uglys.add(Math.min(                Math.min(uglys.get(p2) * 2, uglys.get(p3) * 3),                uglys.get(p5) * 5            ));        &amp;#125;        return uglys.get(n - 1);    &amp;#125;">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="LintCode Medium Java Solution"/>
  <meta property="og:site_name" content="Léo`s Blog"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.icon" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/flatly.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight-default.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/comment.css" media="screen" type="text/css">
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  
  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">Léo`s Blog</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header page-header-inverse ">		
			<h1 class="title title-inverse "> LintCode Medium Java Solution</h1>
		</div>		
	






<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h5 id="Ugly-Number-II"><a href="#Ugly-Number-II" class="headerlink" title="Ugly Number II"></a>Ugly Number II</h5><ul>
<li>Ugly number is a number that only have factors 2,3 and 5.Design an algorithm to find the nth ugly number. The first 10 ugly numbers are1, 2, 3, 4, 5, 6, 8, 9, 10, 12…</li>
</ul>
<h6 id="solution"><a href="#solution" class="headerlink" title="solution:"></a>solution:</h6><ul>
<li>triple pointer: because the Ugly number array is an array that starts from 1 and by multiply 2,3,5 repeatedly to the numbers in the array.So the idea is to point at numbers in the array and check if the number multiplied by 2,3,5 is greater then the last number.</li>
<li>三个指针指向一个数列，如果指向目标乘2、3、5大于数列最后一个数，则从三者中选最小的加入数列</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthUglyNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">               List&lt;Integer&gt; uglys = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        uglys.add(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> p2 = <span class="number">0</span>, p3 = <span class="number">0</span>, p5 = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// p2, p3 &amp; p5 share the same queue: uglys</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> lastNumber = uglys.get(i - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span> (uglys.get(p2) * <span class="number">2</span> &lt;= lastNumber) p2++;</span><br><span class="line">            <span class="keyword">while</span> (uglys.get(p3) * <span class="number">3</span> &lt;= lastNumber) p3++;</span><br><span class="line">            <span class="keyword">while</span> (uglys.get(p5) * <span class="number">5</span> &lt;= lastNumber) p5++;</span><br><span class="line"></span><br><span class="line">            uglys.add(Math.min(</span><br><span class="line">                Math.min(uglys.get(p2) * <span class="number">2</span>, uglys.get(p3) * <span class="number">3</span>),</span><br><span class="line">                uglys.get(p5) * <span class="number">5</span></span><br><span class="line">            ));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> uglys.get(n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h5 id="Binary-Tree-Serialization"><a href="#Binary-Tree-Serialization" class="headerlink" title="Binary Tree Serialization"></a>Binary Tree Serialization</h5><ul>
<li>Design an algorithm and write code to serialize and deserialize a binary tree. Writing the tree to a file is called ‘serialization’ and reading back from the file to reconstruct the exact same binary tree is ‘deserialization’.</li>
<li>There is no limit of how you deserialize or serialize a binary tree, you only need to make sure you can serialize a binary tree to a string and deserialize this string to the original structure.</li>
</ul>
<h5 id="solution-1"><a href="#solution-1" class="headerlink" title="solution:"></a>solution:</h5><p>maintain a list of TreeNode to keep track of nodes postions<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"> public String serialize(TreeNode root) &#123;</span><br><span class="line">    if (root == null) &#123;</span><br><span class="line">        return &quot;&#123;&#125;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ArrayList&lt;TreeNode&gt; queue = new ArrayList&lt;TreeNode&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line"></span><br><span class="line">    for (int i = 0; i &lt; queue.size(); i++) &#123;</span><br><span class="line">        TreeNode node = queue.get(i);</span><br><span class="line">        if (node == null) &#123;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">        queue.add(node.left);</span><br><span class="line">        queue.add(node.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    while (queue.get(queue.size() - 1) == null) &#123;</span><br><span class="line">        queue.remove(queue.size() - 1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    StringBuilder sb = new StringBuilder();</span><br><span class="line">    sb.append(&quot;&#123;&quot;);</span><br><span class="line">    sb.append(queue.get(0).val);</span><br><span class="line">    for (int i = 1; i &lt; queue.size(); i++) &#123;</span><br><span class="line">        if (queue.get(i) == null) &#123;</span><br><span class="line">            sb.append(&quot;,#&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            sb.append(&quot;,&quot;);</span><br><span class="line">            sb.append(queue.get(i).val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sb.append(&quot;&#125;&quot;);</span><br><span class="line">    return sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public TreeNode deserialize(String data) &#123;</span><br><span class="line">    if (data.equals(&quot;&#123;&#125;&quot;)) &#123;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">    String[] vals = data.substring(1, data.length() - 1).split(&quot;,&quot;);</span><br><span class="line">    ArrayList&lt;TreeNode&gt; queue = new ArrayList&lt;TreeNode&gt;();</span><br><span class="line">    TreeNode root = new TreeNode(Integer.parseInt(vals[0]));</span><br><span class="line">    queue.add(root);</span><br><span class="line">    int index = 0;</span><br><span class="line">    boolean isLeftChild = true;</span><br><span class="line">    for (int i = 1; i &lt; vals.length; i++) &#123;</span><br><span class="line">        if (!vals[i].equals(&quot;#&quot;)) &#123;</span><br><span class="line">            TreeNode node = new TreeNode(Integer.parseInt(vals[i]));</span><br><span class="line">            if (isLeftChild) &#123;</span><br><span class="line">                queue.get(index).left = node;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                queue.get(index).right = node;</span><br><span class="line">            &#125;</span><br><span class="line">            queue.add(node);</span><br><span class="line">        &#125;</span><br><span class="line">        if (!isLeftChild) &#123;</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line">        isLeftChild = !isLeftChild;</span><br><span class="line">    &#125;</span><br><span class="line">    return root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>	  
	</div>

	<!-- recommended posts -->
	

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/2016/09/11/Design-Patterns/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/2016/07/13/Key-Algorithms/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>

    <!-- share -->
    
        

        

    
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">Comments</h2>
  
  	 <div id="disqus_thread">
     <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  	 </div>
  
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2016-08-27 
	</div>
	

	<!-- categories -->
    

	<!-- tags -->
	

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->

<script type="text/javascript">
var disqus_shortname = 'leoweng';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2018 Léo WENG
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


<!-- syntax highlighting -->


</body>
   </html>
