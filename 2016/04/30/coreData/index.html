<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Core Data And Core Animation | Léo`s Blog</title>
  <meta name="author" content="Léo WENG">
  
  <meta name="description" content="Five step to save and fetch DATA in coreDataSave data to coreData:
Get the managedObjectContext from the AppDelegate

Get the entity from the managedObjectContext obtained

Link a connection between a variable and the managedObject in the MOcontext. Here means define a variable which is constructed using NSMangedObjects construct function with entity equal to the entity obtained from managedObjectContext.

Set the value for any attributes in the managedObject,Save any data to the Object.

Save the managedContext,using managedContext.save() throw function.


Fetch data from coreData:
Get the managedObjectContext from the AppDelegate
Create a fetching requestlet fetchRequest = NSFetchRequest(entityName: &amp;quot;Person&amp;quot;);

ExecuteFetchRequesttry fetchedResults = managedContext.executeFetchRequest(fetchRequest)
fetchedResults is the managedObject to handle

CoreData Stack:
NSManagedObjectContext:An instance of NSManagedObjectContext represents a single “object space” or scratch pad in an application. Its primary responsibility is to manage a collection of managed objects.The managed object context (NSManagedObjectContext) is the object that your application will be interacting with the most, and therefore it is the one that is exposed to the rest of your application.

NSPersistentStoreCoordinator: Instances of NSPersistentStoreCoordinator associate persistent stores (by type) with a model (or more accurately, a configuration of a model) and serve to mediate between the persistent store or stores and the managed object context or contexts.

NSManagedObjectModel:An NSManagedObjectModel object describes a schema—a collection of entities (data models) that you use in your application.The model contains one or more NSEntityDescription objects representing the entities in the schema.
NSPersistentStore:representing the external storage">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Core Data And Core Animation"/>
  <meta property="og:site_name" content="Léo`s Blog"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.icon" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/flatly.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight-default.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/comment.css" media="screen" type="text/css">
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  
  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">Léo`s Blog</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header page-header-inverse ">		
			<h1 class="title title-inverse "> Core Data And Core Animation</h1>
		</div>		
	






<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h3 id="Five-step-to-save-and-fetch-DATA-in-coreData"><a href="#Five-step-to-save-and-fetch-DATA-in-coreData" class="headerlink" title="Five step to save and fetch DATA in coreData"></a>Five step to save and fetch DATA in coreData</h3><h4 id="Save-data-to-coreData"><a href="#Save-data-to-coreData" class="headerlink" title="Save data to coreData:"></a>Save data to coreData:</h4><ol>
<li><p>Get the managedObjectContext from the AppDelegate</p>
</li>
<li><p>Get the entity from the managedObjectContext obtained</p>
</li>
<li><p>Link a connection between a variable and the managedObject in the MOcontext. Here means define a variable which is constructed using NSMangedObjects construct function with entity equal to the entity obtained from managedObjectContext.</p>
</li>
<li><p>Set the value for any attributes in the managedObject,Save any data to the Object.</p>
</li>
<li><p>Save the managedContext,using managedContext.save() throw function.</p>
</li>
</ol>
<h4 id="Fetch-data-from-coreData"><a href="#Fetch-data-from-coreData" class="headerlink" title="Fetch data from coreData:"></a>Fetch data from coreData:</h4><ol>
<li>Get the managedObjectContext from the AppDelegate</li>
<li>Create a fetching request<pre><code>let fetchRequest = NSFetchRequest(entityName: &quot;Person&quot;);
</code></pre></li>
<li>ExecuteFetchRequest<pre><code>try fetchedResults = managedContext.executeFetchRequest(fetchRequest)
</code></pre>fetchedResults is the managedObject to handle</li>
</ol>
<h4 id="CoreData-Stack"><a href="#CoreData-Stack" class="headerlink" title="CoreData Stack:"></a>CoreData Stack:</h4><ol>
<li><h5 id="NSManagedObjectContext"><a href="#NSManagedObjectContext" class="headerlink" title="NSManagedObjectContext:"></a>NSManagedObjectContext:</h5><p>An instance of NSManagedObjectContext represents a single “object space” or scratch pad in an application. Its primary responsibility is to manage a collection of managed objects.The managed object context (NSManagedObjectContext) is the object that your application will be interacting with the most, and therefore it is the one that is exposed to the rest of your application.</p>
</li>
<li><h5 id="NSPersistentStoreCoordinator"><a href="#NSPersistentStoreCoordinator" class="headerlink" title="NSPersistentStoreCoordinator:"></a>NSPersistentStoreCoordinator:</h5><p> Instances of NSPersistentStoreCoordinator associate persistent stores (by type) with a model (or more accurately, a configuration of a model) and serve to mediate between the persistent store or stores and the managed object context or contexts.</p>
</li>
<li><h5 id="NSManagedObjectModel-An-NSManagedObjectModel-object-describes-a-schema—a-collection-of-entities-data-models-that-you-use-in-your-application-The-model-contains-one-or-more-NSEntityDescription-objects-representing-the-entities-in-the-schema"><a href="#NSManagedObjectModel-An-NSManagedObjectModel-object-describes-a-schema—a-collection-of-entities-data-models-that-you-use-in-your-application-The-model-contains-one-or-more-NSEntityDescription-objects-representing-the-entities-in-the-schema" class="headerlink" title="NSManagedObjectModel:An NSManagedObjectModel object describes a schema—a collection of entities (data models) that you use in your application.The model contains one or more NSEntityDescription objects representing the entities in the schema."></a>NSManagedObjectModel:An NSManagedObjectModel object describes a schema—a collection of entities (data models) that you use in your application.The model contains one or more NSEntityDescription objects representing the entities in the schema.</h5></li>
<li><h5 id="NSPersistentStore"><a href="#NSPersistentStore" class="headerlink" title="NSPersistentStore:"></a>NSPersistentStore:</h5><p>representing the external storage</p>
<a id="more"></a>
<h4 id="Saving-NSManagedObject-Instances"><a href="#Saving-NSManagedObject-Instances" class="headerlink" title="Saving NSManagedObject Instances"></a>Saving NSManagedObject Instances</h4></li>
</ol>
<p>OBJECTIVE-C<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSError *error = nil;</span><br><span class="line"> if ([[self managedObjectContext] save:&amp;error] == NO) &#123;</span><br><span class="line">NSAssert(NO, @&quot;Error saving context: %@\n%@&quot;, [error localizedDescription], [error userInfo]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>SWIFT<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line"><span class="keyword">try</span> managedObjectContext.save()</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line"><span class="built_in">fatalError</span>(<span class="string">"Failure to save context: \(error)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Fetching-NSManagedObject-Instances"><a href="#Fetching-NSManagedObject-Instances" class="headerlink" title="Fetching NSManagedObject Instances"></a>Fetching NSManagedObject Instances</h4><p>OC<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NSManagedObjectContext *moc = …;</span><br><span class="line">NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@&quot;Employee&quot;];</span><br><span class="line">NSError *error = nil;</span><br><span class="line">NSArray *results = [moc executeFetchRequest:request error:&amp;error];</span><br><span class="line">if (!results) &#123;</span><br><span class="line">DLog(@&quot;Error fetching Employee objects: %@\n%@&quot;, [error localizedDescription], [error userInfo]);</span><br><span class="line">abort();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Swift<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> moc = managedObjectContext</span><br><span class="line"><span class="keyword">let</span> employeesFetch = <span class="type">NSFetchRequest</span>(entityName: <span class="string">"Employee"</span>)</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line"><span class="keyword">let</span> fetchedEmployees = <span class="keyword">try</span> moc.executeFetchRequest(employeesFetch) <span class="keyword">as</span>! [<span class="type">AAAEmployeeMO</span>]</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line"><span class="built_in">fatalError</span>(<span class="string">"Failed to fetch employees: \(error)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Filtering-Results"><a href="#Filtering-Results" class="headerlink" title="Filtering Results"></a>Filtering Results</h4><p>OC<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *firstName = @&quot;Trevor&quot;;</span><br><span class="line">[fetchRequest setPredicate:[NSPredicate predicateWithFormat:@&quot;firstName == %@&quot;, firstName]];</span><br></pre></td></tr></table></figure></p>
<p>Swift<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="string">"Trevor"</span></span><br><span class="line">fetchRequest.predicate = <span class="type">NSPredicate</span>(format: <span class="string">"firstName == %@"</span>, firstName)</span><br></pre></td></tr></table></figure></p>
<h3 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h3><p>Animation available in iOS</p>
<ul>
<li>Animating UIView Properties:frame,transform,alpha</li>
<li>Core Animation framework:layer, the window from views to coreAnimation</li>
<li>OpenGL:3D</li>
<li>SpriteKit: 2.5D</li>
<li>Dynamic Animation:Physics based</li>
</ul>
<h5 id="UIView"><a href="#UIView" class="headerlink" title="UIView"></a>UIView</h5><p>animations from UIView function</p>
<ul>
<li>class func animationWithDuration(duration:NSTimeInterval,delay:NSTimeInterval,options:UIViewAnimationOptions,animation:()-&gt;Void,completion:((finished:Bool)-&gt;Void)?)<br>OC<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UIView.animationWithDuration(3.0,delay:2.0 options:[UIViewAnimationOptions.CurveLinear],animations:&#123;block&#125;,completion:&#123;block&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
	  
	</div>

	<!-- recommended posts -->
	

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/2016/05/01/Unix-常用命令/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/2016/04/29/error-handling/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>

    <!-- share -->
    
        

        

    
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">Comments</h2>
  
  	 <div id="disqus_thread">
     <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  	 </div>
  
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2016-04-30 
	</div>
	

	<!-- categories -->
    

	<!-- tags -->
	

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->

<script type="text/javascript">
var disqus_shortname = 'leoweng';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2018 Léo WENG
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


<!-- syntax highlighting -->


</body>
   </html>
